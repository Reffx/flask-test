import matplotlib.pyplot as plt
import seaborn as sns

def generate_feature_importance_heatmap(feature_names, importance_scores):
    # Create a DataFrame to hold feature names and importance scores
    importance_df = pd.DataFrame({'Feature': feature_names, 'Importance': importance_scores})

    # Sort the DataFrame by importance scores in descending order
    importance_df = importance_df.sort_values(by='Importance', ascending=False)

    # Create a heatmap
    plt.figure(figsize=(10, 6))
    sns.set(style="whitegrid")
    ax = sns.barplot(x='Importance', y='Feature', data=importance_df, palette="viridis")
    ax.set(xlabel='Importance Score', ylabel='Feature', title='Feature Importance')

    # Convert the Matplotlib figure to a BytesIO object
    buffer = BytesIO()
    plt.savefig(buffer, format='png')
    buffer.seek(0)
    image_base64 = base64.b64encode(buffer.getvalue()).decode('utf-8')

    return image_base64
